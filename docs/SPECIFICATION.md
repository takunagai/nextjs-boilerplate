# 習慣トラッカー「My Week Checker」仕様書

## プロジェクト概要

My Week Checkerは、子どもたちが1週間分のタスクを1ページで楽しく管理できるTodoリストアプリです。毎日のチェックで達成感を味わいながら、自然に計画的な生活習慣を育むサポートをします。

### 主要機能

1. **認証システム**
   - ユーザー登録・ログイン機能
   - セッション管理
   - パスワードの安全な暗号化

2. **習慣トラッキング**
   - 習慣の作成・編集・削除
   - 週間ビューでの習慣チェック
   - デフォルトの習慣テンプレート
   - 習慣の達成状況の視覚化
   - 絵文字によるインタラクティブな完了マーク

3. **統計・分析**
   - 週間達成率の表示
   - 習慣ごとの達成率グラフ
   - 日別の達成状況グラフ
   - 進捗の視覚的表示

4. **日報システム**
   - 日々の学びの記録
   - メモ・ノートの保存
   - 週間単位での振り返り

5. **モチベーション機能**
   - 日替わり名言の表示
   - 達成時の視覚的フィードバック（紙吹雪エフェクト）

6. **レスポンシブデザイン**
   - モバイル対応のグリッドビュー
   - デスクトップ用テーブルビュー
   - タッチデバイス対応のUI

## 技術スタック

- **フロントエンド**
  - TypeScript
  - React/Next.js
  - Tailwind CSS
  - shadcn/ui コンポーネント
  - Recharts（グラフ描画）
  - React Query（状態管理）

- **バックエンド**
  - Node.js/Express
  - PostgreSQL
  - Drizzle ORM
  - Passport.js（認証）

## データモデル

### ユーザー (users)

- id: シリアル番号（主キー）
- username: ユーザー名（一意）
- password: ハッシュ化されたパスワード
- createdAt: アカウント作成日時

### 習慣リスト (habits_list)

- id: シリアル番号（主キー）
- userId: ユーザーID（外部キー）
- label: 習慣の名前
- key: システム内部での識別子
- isDefault: デフォルト習慣かどうか
- displayOrder: 表示順序

### 習慣達成記録 (habits)

- id: シリアル番号（主キー）
- date: 日付
- habitId: 習慣ID（外部キー）
- userId: ユーザーID（外部キー）
- completed: 完了状態

### 日報 (diary_entries)

- id: シリアル番号（主キー）
- userId: ユーザーID（外部キー）
- date: 日付
- learnings: 学んだこと
- notes: メモ・ノート

## セキュリティ要件

- パスワードの安全な暗号化（scrypt）
- セッション管理
- CSRF対策
- SQLインジェクション対策
- XSS対策

## UI/UX仕様

### 全般

- ダークモード対応
- レスポンシブデザイン
- アクセシビリティ対応
- 日本語/英語のバイリンガル対応

### 習慣トラッキング画面

- 週間カレンダービュー
- 習慣の追加/編集/削除機能
- チェックボックスと絵文字による完了表示
- ドラッグ＆ドロップでの順序変更

### 統計画面

- 週間達成率の円グラフ
- 習慣ごとの棒グラフ
- 日別の達成状況ライングラフ

### 日報画面

- テキストエリアによる入力
- 自動保存機能
- 週間ビューでの表示

## デフォルト習慣

1. パッと起きる
2. 毎食後のはみがき
3. ゲームとテレビの時間を守る
4. お手伝い
5. 宿題
6. 日々の勉強
7. 読書
8. IT（タイピング、AI）
9. おっとその勉強

## パフォーマンス要件

- ページロード時間: 3秒以内
- API応答時間: 1秒以内
- モバイルでの快適な動作
- オフライン対応（将来的な実装）

## エラーハンドリング

- ユーザーフレンドリーなエラーメッセージ
- 適切なHTTPステータスコードの使用
- フォーム入力のバリデーション
- ネットワークエラーの適切な処理

## 将来の拡張性

- 多言語対応の拡充
- ソーシャル機能の追加
- 目標設定機能
- リマインダー機能
- データエクスポート機能
- チーム/グループ機能

## 開発ガイドライン

- コードスタイル: ESLint/Prettier準拠
- コミットメッセージ規約
- TypeScript型定義の厳密な使用
- コンポーネントの再利用性重視
- 適切なエラーログの実装
