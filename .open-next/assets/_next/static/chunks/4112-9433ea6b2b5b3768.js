"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4112],{4112:(e,a,r)=>{r.d(a,{SpeechBubble:()=>y,SpeechBubbleActions:()=>x,SpeechBubbleMessage:()=>p,SpeechBubbleTitle:()=>f});var t=r(95155),s=r(19749),i=r(98417),l=r(88907),d=r(12115),o=r(91753);let n=(0,i.F)("flex gap-3 items-start",{variants:{direction:{left:"flex-row",right:"flex-row-reverse"},size:{sm:"text-sm",md:"text-base",lg:"text-lg"},spacing:{tight:"gap-2",normal:"gap-3",loose:"gap-4 sm:gap-6"}},compoundVariants:[{size:"sm",spacing:"tight",class:"gap-1.5 sm:gap-2"},{size:"lg",spacing:"loose",class:"gap-5 sm:gap-8 md:gap-10"},{direction:"right",spacing:"normal",class:"justify-end"},{direction:"right",spacing:"loose",class:"justify-end pr-2"}],defaultVariants:{direction:"left",size:"md",spacing:"normal"}}),g=(0,i.F)("relative bg-white border border-gray-200 rounded-2xl shadow-sm px-4 py-3 max-w-md",{variants:{theme:{default:"bg-white border-gray-200 text-gray-900",primary:"bg-blue-50 border-blue-200 text-blue-900",secondary:"bg-gray-50 border-gray-300 text-gray-800"},size:{sm:"px-3 py-2 text-sm rounded-xl max-w-xs",md:"px-4 py-3 text-base rounded-2xl max-w-md",lg:"px-5 py-4 text-lg rounded-2xl max-w-lg"}},compoundVariants:[{theme:"primary",size:"sm",class:"bg-blue-25 border-blue-100 shadow-blue-100/20"},{theme:"primary",size:"lg",class:"bg-blue-75 border-blue-300 shadow-blue-200/30 shadow-lg"},{theme:"secondary",size:"sm",class:"bg-gray-25 border-gray-200"},{theme:"secondary",size:"lg",class:"bg-gray-75 border-gray-400 shadow-lg"},{theme:"default",size:"lg",class:"shadow-lg border-gray-300 bg-gray-25"}],defaultVariants:{theme:"default",size:"md"}}),c=(0,i.F)("rounded-full object-cover flex-shrink-0",{variants:{size:{sm:"w-8 h-8 sm:w-10 sm:h-10",md:"w-10 h-10 sm:w-12 sm:h-12",lg:"w-12 h-12 sm:w-16 sm:h-16"}},compoundVariants:[{size:"lg",class:"ring-2 ring-white shadow-md"},{size:"md",class:"ring-1 ring-white/50 shadow-sm"}],defaultVariants:{size:"md"}}),m=(0,i.F)("absolute top-4 w-3 h-3 rotate-45",{variants:{direction:{left:"-left-1.5 bg-white border-l border-b border-gray-200",right:"-right-1.5 bg-white border-r border-t border-gray-200"},theme:{default:"bg-white border-gray-200",primary:"bg-blue-50 border-blue-200",secondary:"bg-gray-50 border-gray-300"}},compoundVariants:[{direction:"left",theme:"primary",class:"-left-1.5 bg-blue-50 border-l border-b border-blue-200"},{direction:"right",theme:"primary",class:"-right-1.5 bg-blue-50 border-r border-t border-blue-200"},{direction:"left",theme:"secondary",class:"-left-1.5 bg-gray-50 border-l border-b border-gray-300"},{direction:"right",theme:"secondary",class:"-right-1.5 bg-gray-50 border-r border-t border-gray-300"}],defaultVariants:{direction:"left",theme:"default"}}),h={src:"/images/avatars/default-avatar.jpg",width:48,height:48,alt:"デフォルトアバター"};function b(e){let a,r,i,l,d,h,b,A,u,y=(0,s.c)(22),{direction:f,size:p,spacing:x}=e,w=void 0===f?"left":f,v=void 0===p?"md":p,C=void 0===x?"normal":x;return y[0]!==w||y[1]!==v||y[2]!==C?(a=(0,o.cn)(n({direction:w,size:v,spacing:C}),"max-w-full animate-pulse"),y[0]=w,y[1]=v,y[2]=C,y[3]=a):a=y[3],y[4]!==v?(r=(0,o.cn)(c({size:v}),"bg-gray-200 dark:bg-gray-700"),y[4]=v,y[5]=r):r=y[5],y[6]!==r?(i=(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)("div",{className:r})}),y[6]=r,y[7]=i):i=y[7],y[8]!==v?(l=(0,o.cn)(g({size:v,theme:"default"}),"w-full sm:w-auto bg-gray-100 dark:bg-gray-800 border-gray-200 dark:border-gray-600"),y[8]=v,y[9]=l):l=y[9],y[10]!==w?(d=(0,o.cn)(m({direction:w,theme:"default"}),"bg-gray-100 dark:bg-gray-800 border-gray-200 dark:border-gray-600"),y[10]=w,y[11]=d):d=y[11],y[12]!==d?(h=(0,t.jsx)("div",{className:d,"aria-hidden":"true"}),y[12]=d,y[13]=h):h=y[13],y[14]===Symbol.for("react.memo_cache_sentinel")?(b=(0,t.jsxs)("div",{className:"relative z-10 space-y-2",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),(0,t.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 animate-pulse"})]}),y[14]=b):b=y[14],y[15]!==l||y[16]!==h?(A=(0,t.jsxs)("div",{className:l,children:[h,b]}),y[15]=l,y[16]=h,y[17]=A):A=y[17],y[18]!==A||y[19]!==a||y[20]!==i?(u=(0,t.jsxs)("div",{className:a,role:"group","aria-label":"メッセージ読み込み中",children:[i,A]}),y[18]=A,y[19]=a,y[20]=i,y[21]=u):u=y[21],u}function A(e){let a,r,i,d,n,g=(0,s.c)(23),{avatarConfig:m,contentConfig:b,imageLoading:A,imageError:u,handleImageLoad:y,handleImageError:f,size:p,avatarSrc:x}=e,w=void 0===p?"md":p;g[0]!==A||g[1]!==w?(a=A&&(0,t.jsx)("div",{className:(0,o.cn)(c({size:w}),"absolute inset-0 bg-gray-200 dark:bg-gray-700 animate-pulse rounded-full"),"aria-hidden":"true"}),g[0]=A,g[1]=w,g[2]=a):a=g[2];let v=m.src,C=`${b.safeName}のアバター`,j=m.width,N=m.height;return g[3]!==A||g[4]!==w?(r=(0,o.cn)(c({size:w}),A?"opacity-0":"opacity-100","transition-opacity duration-300"),g[3]=A,g[4]=w,g[5]=r):r=g[5],g[6]!==m.height||g[7]!==m.src||g[8]!==m.width||g[9]!==f||g[10]!==y||g[11]!==C||g[12]!==r?(i=(0,t.jsx)(l.default,{src:v,alt:C,width:j,height:N,className:r,priority:!1,onLoad:y,onError:f,loading:"lazy",placeholder:"blur",blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAIAAoDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAhEAACAQMDBQAAAAAAAAAAAAABAgMABAUGIWGRkqGx0f/EABUBAQEAAAAAAAAAAAAAAAAAAAMF/8QAGhEAAgIDAAAAAAAAAAAAAAAAAAECEgMRkf/aAAwDAQACEQMRAD8AltJagyeH0AthI5xdrLcNM91BF5pX2HaH9bcfaSXWGaRmknyJckliyjqTzSlT54b6bk+h0R//2Q=="}),g[6]=m.height,g[7]=m.src,g[8]=m.width,g[9]=f,g[10]=y,g[11]=C,g[12]=r,g[13]=i):i=g[13],g[14]!==m.src||g[15]!==x||g[16]!==u||g[17]!==w?(d=u&&m.src===h.src&&x&&x!==h.src&&(0,t.jsx)("div",{className:(0,o.cn)(c({size:w}),"absolute inset-0 bg-gray-100 dark:bg-gray-800 flex items-center justify-center text-gray-400 text-xs"),"aria-label":"画像読み込み失敗",children:"?"}),g[14]=m.src,g[15]=x,g[16]=u,g[17]=w,g[18]=d):d=g[18],g[19]!==a||g[20]!==i||g[21]!==d?(n=(0,t.jsxs)("div",{className:"relative",children:[a,i,d]}),g[19]=a,g[20]=i,g[21]=d,g[22]=n):n=g[22],n}function u(e){let a,r,i=(0,s.c)(6),{contentId:l,contentConfig:o,children:n,contentPromise:g}=e,c=g?(0,d.use)(g):n;return i[0]!==o.hasValidContent||i[1]!==c?(a=o.hasValidContent||c?c:(0,t.jsx)("div",{className:"text-gray-400 dark:text-gray-600 italic",role:"alert",children:"コンテンツが提供されていません"}),i[0]=o.hasValidContent,i[1]=c,i[2]=a):a=i[2],i[3]!==l||i[4]!==a?(r=(0,t.jsx)("div",{id:l,className:"relative z-10",children:a}),i[3]=l,i[4]=a,i[5]=r):r=i[5],r}function y(e){let a,r,i,l,c,y,f,p,x,w,v,C,j,N,B,k,z,K,Q,S,E,I,M,R,V,D,F,G=(0,s.c)(72);G[0]!==e?({children:l,name:C,avatarSrc:r,avatarWidth:i,avatarHeight:a,direction:f,size:w,spacing:v,theme:j,disableResponsive:N,className:c,contentPromise:y,fallback:p,disableSuspense:B,...x}=e,G[0]=e,G[1]=a,G[2]=r,G[3]=i,G[4]=l,G[5]=c,G[6]=y,G[7]=f,G[8]=p,G[9]=x,G[10]=w,G[11]=v,G[12]=C,G[13]=j,G[14]=N,G[15]=B):(a=G[1],r=G[2],i=G[3],l=G[4],c=G[5],y=G[6],f=G[7],p=G[8],x=G[9],w=G[10],v=G[11],C=G[12],j=G[13],N=G[14],B=G[15]);let Y=void 0===C?"ユーザー":C,_=void 0===j?"default":j,H=void 0!==N&&N,U=void 0!==B&&B,{contentId:L,imageError:J,imageLoading:T,handleImageError:W,handleImageLoad:$}=function(){let e,a,r,t=(0,s.c)(6),i=(0,d.useId)(),[l,o]=(0,d.useState)(!1),[n,g]=(0,d.useState)(!0);t[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{o(!0),g(!1)},t[0]=e):e=t[0];let c=e;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{g(!1),o(!1)},t[1]=a):a=t[1];let m=a;return t[2]!==i||t[3]!==l||t[4]!==n?(r={contentId:i,imageError:l,imageLoading:n,handleImageError:c,handleImageLoad:m},t[2]=i,t[3]=l,t[4]=n,t[5]=r):r=t[5],r}();!function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];let e=(0,d.useRef)(0),a=(0,d.useRef)(0),r=performance.now();e.current+=1,a.current=r,e.current,a.current}("SpeechBubble"),G[16]!==a||G[17]!==r||G[18]!==i||G[19]!==J?(k=function(e){let{avatarSrc:a,avatarWidth:r,avatarHeight:t,imageError:s,defaultAvatar:i={src:"/images/avatars/default-avatar.jpg",width:48,height:48}}=e,l=s?i.src:a||i.src;return{src:l,width:Math.max(r||i.width,16),height:Math.max(t||i.height,16)}}({avatarSrc:r,avatarWidth:i,avatarHeight:a,imageError:J,defaultAvatar:h}),G[16]=a,G[17]=r,G[18]=i,G[19]=J,G[20]=k):k=G[20];let q=k;G[21]!==l||G[22]!==Y?(z=function(e){let{children:a,name:r}=e;return{hasValidContent:null!=a&&("string"!=typeof a||a.trim().length>0),safeName:r&&r.trim()?r.trim():"ユーザー"}}({children:l,name:Y}),G[21]=l,G[22]=Y,G[23]=z):z=G[23];let P=z;G[24]!==f||G[25]!==p||G[26]!==w||G[27]!==v?(K=p||(0,t.jsx)(b,{direction:f||"left",size:w||"md",spacing:v||"normal"}),G[24]=f,G[25]=p,G[26]=w,G[27]=v,G[28]=K):K=G[28];let X=K;G[29]!==c||G[30]!==f||G[31]!==H||G[32]!==w||G[33]!==v?(Q=(0,o.cn)(n({direction:f,size:w,spacing:v}),!H&&"max-w-full",c),G[29]=c,G[30]=f,G[31]=H,G[32]=w,G[33]=v,G[34]=Q):Q=G[34];let O=`${P.safeName}からのメッセージ`,Z=w||"md";G[35]!==q||G[36]!==r||G[37]!==P||G[38]!==W||G[39]!==$||G[40]!==J||G[41]!==T||G[42]!==Z?(S=(0,t.jsx)(A,{avatarConfig:q,contentConfig:P,imageLoading:T,imageError:J,handleImageLoad:$,handleImageError:W,size:Z,avatarSrc:r}),G[35]=q,G[36]=r,G[37]=P,G[38]=W,G[39]=$,G[40]=J,G[41]=T,G[42]=Z,G[43]=S):S=G[43],G[44]!==H||G[45]!==w||G[46]!==_?(E=(0,o.cn)(g({theme:_,size:w}),!H&&"w-full sm:w-auto"),G[44]=H,G[45]=w,G[46]=_,G[47]=E):E=G[47],G[48]!==f||G[49]!==_?(I=(0,o.cn)(m({direction:f,theme:_})),G[48]=f,G[49]=_,G[50]=I):I=G[50],G[51]!==I?(M=(0,t.jsx)("div",{className:I,"aria-hidden":"true"}),G[51]=I,G[52]=M):M=G[52],G[53]!==l||G[54]!==P||G[55]!==L||G[56]!==y?(R=(0,t.jsx)(u,{contentId:L,contentConfig:P,children:l,contentPromise:y}),G[53]=l,G[54]=P,G[55]=L,G[56]=y,G[57]=R):R=G[57],G[58]!==L||G[59]!==E||G[60]!==M||G[61]!==R?(V=(0,t.jsxs)("div",{className:E,role:"dialog","aria-labelledby":L,children:[M,R]}),G[58]=L,G[59]=E,G[60]=M,G[61]=R,G[62]=V):V=G[62],G[63]!==x||G[64]!==S||G[65]!==V||G[66]!==Q||G[67]!==O?(D=(0,t.jsxs)("div",{className:Q,role:"group","aria-label":O,...x,children:[S,V]}),G[63]=x,G[64]=S,G[65]=V,G[66]=Q,G[67]=O,G[68]=D):D=G[68];let ee=D;return U||!y?ee:(G[69]!==X||G[70]!==ee?(F=(0,t.jsx)(d.Suspense,{fallback:X,children:ee}),G[69]=X,G[70]=ee,G[71]=F):F=G[71],F)}function f(e){let a,r,i,l,d=(0,s.c)(8);return d[0]!==e?({className:a,...r}=e,d[0]=e,d[1]=a,d[2]=r):(a=d[1],r=d[2]),d[3]!==a?(i=(0,o.cn)("font-semibold text-inherit mb-1",a),d[3]=a,d[4]=i):i=d[4],d[5]!==r||d[6]!==i?(l=(0,t.jsx)("h3",{className:i,...r}),d[5]=r,d[6]=i,d[7]=l):l=d[7],l}function p(e){let a,r,i,l,d=(0,s.c)(8);return d[0]!==e?({className:a,...r}=e,d[0]=e,d[1]=a,d[2]=r):(a=d[1],r=d[2]),d[3]!==a?(i=(0,o.cn)("text-inherit leading-relaxed",a),d[3]=a,d[4]=i):i=d[4],d[5]!==r||d[6]!==i?(l=(0,t.jsx)("p",{className:i,...r}),d[5]=r,d[6]=i,d[7]=l):l=d[7],l}function x(e){let a,r,i,l,d=(0,s.c)(8);return d[0]!==e?({className:a,...r}=e,d[0]=e,d[1]=a,d[2]=r):(a=d[1],r=d[2]),d[3]!==a?(i=(0,o.cn)("flex gap-2 mt-3 items-center",a),d[3]=a,d[4]=i):i=d[4],d[5]!==r||d[6]!==i?(l=(0,t.jsx)("div",{className:i,...r}),d[5]=r,d[6]=i,d[7]=l):l=d[7],l}},91753:(e,a,r)=>{r.d(a,{cn:()=>i});var t=r(99065),s=r(66253);function i(){for(var e=arguments.length,a=Array(e),r=0;r<e;r++)a[r]=arguments[r];return(0,s.QP)((0,t.$)(a))}}}]);