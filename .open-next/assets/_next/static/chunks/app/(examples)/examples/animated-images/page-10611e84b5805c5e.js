(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4308],{20752:(e,t,n)=>{Promise.resolve().then(n.bind(n,88123))},81767:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return i}});let r=n(12115);function i(e,t){let n=(0,r.useRef)(null),i=(0,r.useRef)(null);return(0,r.useCallback)(r=>{if(null===r){let e=n.current;e&&(n.current=null,e());let t=i.current;t&&(i.current=null,t())}else e&&(n.current=a(e,r)),t&&(i.current=a(t,r))},[e,t])}function a(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let n=e(t);return"function"==typeof n?n:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},88123:(e,t,n)=>{"use strict";n.d(t,{AnimatedImage:()=>f});var r=n(95155),i=n(37331),a=n(88907),l=n(12115),s=n(19749),o=n(91753);let c={duration:.6,delay:0,ease:"easeOut",yOffset:20,xOffset:0,initialScale:1,initialOpacity:0},u={threshold:.1,rootMargin:"0px 0px -50px 0px",triggerOnce:!0,root:null},d={duration:.01,delay:0,ease:"linear",yOffset:0,xOffset:0,initialScale:1,initialOpacity:0},f=(0,l.forwardRef)((e,t)=>{let{className:n,animation:f,intersection:m,containerProps:g,onError:h,onAnimationStart:y,onAnimationComplete:p,debug:v=!1,...x}=e,b=function(e,t){let n,r,i=(0,s.c)(3),[a,o]=(0,l.useState)(void 0!==t&&t);return i[0]!==e?(n=()=>{let t=window.matchMedia(e);o(t.matches);let n=e=>{o(e.matches)};return"function"==typeof t.addEventListener?(t.addEventListener("change",n),()=>t.removeEventListener("change",n)):"function"==typeof t.addListener?(t.addListener(n),()=>t.removeListener(n)):void 0},r=[e],i[0]=e,i[1]=n,i[2]=r):(n=i[1],r=i[2]),(0,l.useEffect)(n,r),a}("(prefers-reduced-motion: reduce)",!1),{hasError:O,error:A,captureError:_,clearError:E}=function(e){let t,n,r,i,a,o=(0,s.c)(10);o[0]===Symbol.for("react.memo_cache_sentinel")?(t={hasError:!1,error:null,errorInfo:null},o[0]=t):t=o[0];let[c,u]=(0,l.useState)(t);o[1]!==e?(n=(t,n)=>{u({hasError:!0,error:t,errorInfo:n||t.message}),e?.(t,n)},o[1]=e,o[2]=n):n=o[2];let d=n;o[3]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{u({hasError:!1,error:null,errorInfo:null})},o[3]=r):r=o[3];let f=r;o[4]!==d?(i=e=>{f();try{e()}catch(e){d(e,"Retry failed")}},o[4]=d,o[5]=i):i=o[5];let m=i;return o[6]!==d||o[7]!==c||o[8]!==m?(a={...c,captureError:d,clearError:f,retryWithClearError:m},o[6]=d,o[7]=c,o[8]=m,o[9]=a):a=o[9],a}(h),[I,j]=(0,l.useState)({isVisible:!1,isAnimating:!1,hasAnimated:!1}),N=(0,l.useMemo)(()=>{let e={...c,...f};return b?d:e},[f,b]),S=(0,l.useMemo)(()=>({...u,...m}),[m]),{ref:M,isIntersecting:k}=function(e){let t,n,r,i,a=(0,s.c)(11);a[0]!==e?(t=void 0===e?{}:e,a[0]=e,a[1]=t):t=a[1];let{root:o,rootMargin:c,threshold:u,triggerOnce:d,initialIsIntersecting:f}=t,m=void 0===o?null:o,g=void 0===c?"0px":c,h=void 0===u?.1:u,y=void 0===d||d,p=(0,l.useRef)(null),[v,x]=(0,l.useState)(),[b,O]=(0,l.useState)(void 0!==f&&f);return a[2]!==m||a[3]!==g||a[4]!==h||a[5]!==y?(n=()=>{let e=p.current;if(!e)return;if(!("IntersectionObserver"in window))return void O(!0);let t=new IntersectionObserver(n=>{let[r]=n,i=r.isIntersecting;x(r),O(i),y&&i&&t.unobserve(e)},{root:m,rootMargin:g,threshold:h});return t.observe(e),()=>{t.disconnect()}},r=[m,g,h,y],a[2]=m,a[3]=g,a[4]=h,a[5]=y,a[6]=n,a[7]=r):(n=a[6],r=a[7]),(0,l.useEffect)(n,r),a[8]!==v||a[9]!==b?(i={ref:p,isIntersecting:b,entry:v},a[8]=v,a[9]=b,a[10]=i):i=a[10],i}({threshold:S.threshold,rootMargin:S.rootMargin,triggerOnce:S.triggerOnce}),w=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,l.useCallback)(e=>{for(let n of t)"function"==typeof n?n(e):null!=n&&(n.current=e)},t)}(t,M),C=(0,l.useCallback)(()=>{j(e=>({...e,isAnimating:!0})),y?.(),v&&console.log("[AnimatedImage] Animation started",{config:N,prefersReducedMotion:b})},[y,v,N,b]),L=(0,l.useCallback)(()=>{j(e=>({...e,isAnimating:!1,hasAnimated:!0})),p?.(),v&&console.log("[AnimatedImage] Animation completed")},[p,v]);(0,l.useEffect)(()=>{k&&!I.isVisible&&j(e=>({...e,isVisible:!0}))},[k,I.isVisible]);let P=(0,l.useCallback)(e=>{_(Error(`Failed to load image: ${x.src}`),"Image load failed")},[x.src,_]),R=(0,l.useMemo)(()=>({initial:{opacity:N.initialOpacity,y:N.yOffset,x:N.xOffset,scale:N.initialScale},animate:{opacity:k?1:N.initialOpacity,y:k?0:N.yOffset,x:k?0:N.xOffset,scale:k?1:N.initialScale},transition:{duration:N.duration,delay:N.delay,ease:N.ease}}),[N,k]);return((0,l.useEffect)(()=>{v&&console.log("[AnimatedImage] State changed",{isIntersecting:k,animationState:I,hasError:O,prefersReducedMotion:b})},[v,k,I,O,b]),O)?(0,r.jsx)("div",{ref:w,className:(0,o.cn)("flex items-center justify-center bg-muted rounded-lg","min-h-[200px] text-muted-foreground",g?.className),children:(0,r.jsxs)("div",{className:"text-center space-y-2",children:[(0,r.jsx)("p",{className:"text-sm",children:"画像の読み込みに失敗しました"}),v&&A&&(0,r.jsx)("p",{className:"text-xs text-red-500",children:A.message}),(0,r.jsx)("button",{type:"button",onClick:E,className:"text-xs underline hover:no-underline",children:"再試行"})]})}):(0,r.jsx)(i.P.div,{...g,ref:w,className:(0,o.cn)("overflow-hidden",g?.className),initial:R.initial,animate:R.animate,transition:R.transition,onAnimationStart:C,onAnimationComplete:L,children:(0,r.jsx)(a.default,{...x,className:(0,o.cn)("transition-transform duration-300 will-change-transform",!b&&"hover:scale-105",n),loading:"lazy",decoding:"async",onError:P})})});f.displayName="AnimatedImage"},91753:(e,t,n)=>{"use strict";n.d(t,{cn:()=>a});var r=n(99065),i=n(66253);function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.QP)((0,r.$)(t))}}},e=>{e.O(0,[8385,5208,1909,8441,8261,7358],()=>e(e.s=20752)),_N_E=e.O()}]);