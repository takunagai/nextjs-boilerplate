(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[72],{2162:(e,r,t)=>{"use strict";t.d(r,{s:()=>n,t:()=>a});var i=t(12115);function s(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}function a(...e){return r=>{let t=!1,i=e.map(e=>{let i=s(e,r);return t||"function"!=typeof i||(t=!0),i});if(t)return()=>{for(let r=0;r<i.length;r++){let t=i[r];"function"==typeof t?t():s(e[r],null)}}}}function n(...e){return i.useCallback(a(...e),e)}},36912:(e,r,t)=>{"use strict";t.d(r,{Label:()=>l});var i=t(95155),s=t(19749),a=t(71573),n=t(91753);function l(e){let r,t,l,o,d=(0,s.c)(8);return d[0]!==e?({className:r,...t}=e,d[0]=e,d[1]=r,d[2]=t):(r=d[1],t=d[2]),d[3]!==r?(l=(0,n.cn)("text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),d[3]=r,d[4]=l):l=d[4],d[5]!==t||d[6]!==l?(o=(0,i.jsx)(a.b,{"data-slot":"label",className:l,...t}),d[5]=t,d[6]=l,d[7]=o):o=d[7],o}},43578:(e,r,t)=>{"use strict";t.d(r,{$:()=>d});var i=t(95155),s=t(19749),a=t(50007),n=t(98417),l=t(91753);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",success:"bg-green-600 text-white shadow-xs hover:bg-green-700 focus-visible:ring-green-200 dark:bg-green-600/80 dark:hover:bg-green-600",warning:"bg-yellow-500 text-white shadow-xs hover:bg-yellow-600 focus-visible:ring-yellow-200 dark:bg-yellow-600/80 dark:hover:bg-yellow-600",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline",hero:"bg-white/10 text-white border border-white/20 hover:bg-white/20"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let r,t,n,d,c,u,f,m=(0,s.c)(14);m[0]!==e?({className:r,variant:c,size:n,asChild:d,...t}=e,m[0]=e,m[1]=r,m[2]=t,m[3]=n,m[4]=d,m[5]=c):(r=m[1],t=m[2],n=m[3],d=m[4],c=m[5]);let p=void 0!==d&&d?a.DX:"button";return m[6]!==r||m[7]!==n||m[8]!==c?(u=(0,l.cn)("no-underline",o({variant:c,size:n}),r),m[6]=r,m[7]=n,m[8]=c,m[9]=u):u=m[9],m[10]!==p||m[11]!==t||m[12]!==u?(f=(0,i.jsx)(p,{"data-slot":"button",className:u,...t}),m[10]=p,m[11]=t,m[12]=u,m[13]=f):f=m[13],f}},50007:(e,r,t)=>{"use strict";t.d(r,{DX:()=>l,TL:()=>n});var i=t(12115),s=t(2162),a=t(95155);function n(e){let r=function(e){let r=i.forwardRef((e,r)=>{let{children:t,...a}=e;if(i.isValidElement(t)){var n;let e,l,o=(n=t,(l=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.ref:(l=(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.props.ref:n.props.ref||n.ref),d=function(e,r){let t={...r};for(let i in r){let s=e[i],a=r[i];/^on[A-Z]/.test(i)?s&&a?t[i]=(...e)=>{let r=a(...e);return s(...e),r}:s&&(t[i]=s):"style"===i?t[i]={...s,...a}:"className"===i&&(t[i]=[s,a].filter(Boolean).join(" "))}return{...e,...t}}(a,t.props);return t.type!==i.Fragment&&(d.ref=r?(0,s.t)(r,o):o),i.cloneElement(t,d)}return i.Children.count(t)>1?i.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}(e),t=i.forwardRef((e,t)=>{let{children:s,...n}=e,l=i.Children.toArray(s),o=l.find(d);if(o){let e=o.props.children,s=l.map(r=>r!==o?r:i.Children.count(e)>1?i.Children.only(null):i.isValidElement(e)?e.props.children:null);return(0,a.jsx)(r,{...n,ref:t,children:i.isValidElement(e)?i.cloneElement(e,void 0,s):null})}return(0,a.jsx)(r,{...n,ref:t,children:s})});return t.displayName=`${e}.Slot`,t}var l=n("Slot"),o=Symbol("radix.slottable");function d(e){return i.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===o}},52976:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});var i=t(41691);let s={INVALID_CREDENTIALS:"auth/invalid-credentials",EMPTY_CREDENTIALS:"auth/empty-credentials",ACCOUNT_NOT_FOUND:"auth/account-not-found",NETWORK_ERROR:"auth/network-error",SERVER_ERROR:"auth/server-error",UNKNOWN_ERROR:"auth/unknown-error"},a=function(e,r){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=()=>r?`
1. パスワードが正しいか確認
2. Caps Lockがオンになっていないか確認
3. ${r.includes("@")?"登録済みのメールアドレスか確認":"メールアドレスの形式が正しいか確認"}`:"";switch(e){case s.INVALID_CREDENTIALS:return t>=2?`認証に失敗しました。以下をお試しください：${i()}`:"メールアドレスまたはパスワードが正しくありません";case s.EMPTY_CREDENTIALS:return"メールアドレスとパスワードを入力してください";case s.ACCOUNT_NOT_FOUND:return"アカウントが見つかりません";case s.NETWORK_ERROR:return"サーバーに接続できません。インターネット接続を確認してください";case s.SERVER_ERROR:return"サーバーエラーが発生しました。時間をおいて再度お試しください";default:if("string"==typeof e){if(e.includes("CredentialsSignin"))return t>=2?`認証に失敗しました。以下をお試しください：${i()}`:"メールアドレスまたはパスワードが正しくありません";if(e.includes("fetch failed"))return"サーバーに接続できません。インターネット接続を確認してください"}return e||"ログインに失敗しました。認証情報を確認してください"}};function n(){let{data:e,status:r,update:t}=(0,i.wV)(),n=async e=>{try{if(!e.email||!e.password)return{success:!1,error:s.EMPTY_CREDENTIALS,message:a(s.EMPTY_CREDENTIALS)};let r=await (0,i.Jv)("credentials",{redirect:!1,...e});if(r?.error)return{success:!1,error:r.error,message:a(r.error,e.email)};return{success:!0}}catch(r){console.error("ログインエラー:",r);let e=r instanceof Error&&r.message.includes("fetch failed")?s.NETWORK_ERROR:s.UNKNOWN_ERROR;return{success:!1,error:e,message:a(e)}}},l=async()=>{try{return await (0,i.CI)({redirect:!1}),{success:!0}}catch(e){return console.error("ログアウトエラー:",e),{success:!1,error:s.UNKNOWN_ERROR,message:"ログアウト処理中にエラーが発生しました"}}},o=async()=>{try{return await t(),{success:!0}}catch(e){return console.error("セッション更新エラー:",e),{success:!1,error:s.UNKNOWN_ERROR,message:"セッション更新中にエラーが発生しました"}}};return{session:e,status:r,isLoading:"loading"===r,isAuthenticated:"authenticated"===r,user:e?.user,login:n,logout:l,updateSession:o}}},65020:(e,r,t)=>{Promise.resolve().then(t.bind(t,71952))},71573:(e,r,t)=>{"use strict";t.d(r,{b:()=>l});var i=t(12115),s=t(91590),a=t(95155),n=i.forwardRef((e,r)=>(0,a.jsx)(s.sG.label,{...e,ref:r,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));n.displayName="Label";var l=n},71952:(e,r,t)=>{"use strict";t.d(r,{LoginForm:()=>b});var i=t(95155),s=t(19749),a=t(39200),n=t(12115),l=t(60160);function o(e){let r,t,a,n,o=(0,s.c)(8),{error:d,className:c}=e,u=void 0===c?"":c;if(!d)return null;o[0]!==u?(r=["flex items-center gap-2 rounded-md bg-destructive/15","px-3 py-2 text-sm text-destructive",u].filter(Boolean),o[0]=u,o[1]=r):r=o[1];let f=r.join(" ");return o[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)(l.bT0,{className:"h-4 w-4 text-destructive"}),o[2]=t):t=o[2],o[3]!==d?(a=(0,i.jsx)("p",{children:d}),o[3]=d,o[4]=a):a=o[4],o[5]!==f||o[6]!==a?(n=(0,i.jsxs)("div",{className:f,role:"alert",children:[t,a]}),o[5]=f,o[6]=a,o[7]=n):n=o[7],n}var d=t(43578),c=t(93456),u=t(78346),f=t(36912),m=t(52976),p=t(36751),v=t(88508),g=t(1953);let h=g.Ik({email:g.Yj().min(1,"メールアドレスは必須です").email("有効なメールアドレスを入力してください"),password:g.Yj().min(1,"パスワードは必須です")});function b(){let e,r,t,l,g,b,w,N,R,E,j,_,k,O,C,S,T,L,A,D,I,W,P,V=(0,s.c)(57),$=(0,a.useRouter)(),{isAuthenticated:U}=(0,m.A)(),{form:F,isLoading:K,error:M,handleLogin:Y,resetError:z}=function(){let e=(0,v.mN)({resolver:(0,p.u)(h),defaultValues:{email:"",password:""}}),{login:r}=(0,m.A)(),[t,i]=(0,n.useState)(!1),[s,a]=(0,n.useState)(),[l,o]=(0,n.useState)(0),d=async e=>{i(!0),a(void 0);try{o(l+1);let t=await r({email:e.email,password:e.password});return t.success||a(t.message),t}catch(e){return console.error("ログイン処理エラー:",e),a("ログイン処理中にエラーが発生しました。時間をおいて再度お試しください。"),{success:!1,error:"unexpected-error"}}finally{i(!1)}};return{form:e,isLoading:t,error:s,attempts:l,handleLogin:d,resetError:()=>a(void 0)}}(),{register:B,handleSubmit:Z,formState:G}=F,{errors:X}=G;V[0]!==U||V[1]!==$?(e=()=>{U&&$.push("/dashboard")},r=[U,$],V[0]=U,V[1]=$,V[2]=e,V[3]=r):(e=V[2],r=V[3]),(0,n.useEffect)(e,r),V[4]!==F||V[5]!==z?(t=()=>{let e=F.watch(()=>z());return()=>e.unsubscribe()},l=[F,z],V[4]=F,V[5]=z,V[6]=t,V[7]=l):(t=V[6],l=V[7]),(0,n.useEffect)(t,l),V[8]!==Y||V[9]!==$?(g=async e=>{(await Y(e)).success&&$.push("/dashboard")},V[8]=Y,V[9]=$,V[10]=g):g=V[10],V[11]!==Z||V[12]!==g?(b=Z(g),V[11]=Z,V[12]=g,V[13]=b):b=V[13];let J=b;V[14]===Symbol.for("react.memo_cache_sentinel")?(w=(0,i.jsx)(c.aR,{className:"space-y-1",children:(0,i.jsx)(c.ZB,{className:"text-lg font-bold",children:"メールアドレスでログイン"})}),V[14]=w):w=V[14],V[15]!==M?(N=M&&(0,i.jsx)(o,{error:M}),V[15]=M,V[16]=N):N=V[16],V[17]===Symbol.for("react.memo_cache_sentinel")?(R=(0,i.jsx)(f.Label,{htmlFor:"email",children:"メールアドレス"}),V[17]=R):R=V[17];let Q=X.email?"email-error":void 0,q=!!X.email;V[18]!==B?(E=B("email"),V[18]=B,V[19]=E):E=V[19],V[20]!==K||V[21]!==Q||V[22]!==q||V[23]!==E?(j=(0,i.jsx)(u.p,{id:"email",type:"email",placeholder:"your@email.com",autoComplete:"email",disabled:K,"aria-describedby":Q,"aria-invalid":q,...E}),V[20]=K,V[21]=Q,V[22]=q,V[23]=E,V[24]=j):j=V[24],V[25]!==X.email?(_=X.email&&(0,i.jsx)("p",{className:"text-sm text-destructive",role:"alert","aria-live":"polite",id:"email-error",children:X.email.message}),V[25]=X.email,V[26]=_):_=V[26],V[27]!==j||V[28]!==_?(k=(0,i.jsxs)("div",{className:"space-y-2",children:[R,j,_]}),V[27]=j,V[28]=_,V[29]=k):k=V[29],V[30]===Symbol.for("react.memo_cache_sentinel")?(O=(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)(f.Label,{htmlFor:"password",children:"パスワード"}),(0,i.jsx)("button",{type:"button",className:"text-xs text-muted-foreground hover:text-primary focus:outline-none focus:ring-2 focus:ring-primary/50 focus:ring-offset-2 rounded","aria-label":"パスワードをリセットする",onClick:y,children:"パスワードをお忘れですか？"})]}),V[30]=O):O=V[30];let H=X.password?"password-error":void 0,ee=!!X.password;V[31]!==B?(C=B("password"),V[31]=B,V[32]=C):C=V[32],V[33]!==K||V[34]!==H||V[35]!==ee||V[36]!==C?(S=(0,i.jsx)(u.p,{id:"password",type:"password",autoComplete:"current-password",disabled:K,"aria-describedby":H,"aria-invalid":ee,...C}),V[33]=K,V[34]=H,V[35]=ee,V[36]=C,V[37]=S):S=V[37],V[38]!==X.password?(T=X.password&&(0,i.jsx)("p",{className:"text-sm text-destructive",role:"alert","aria-live":"polite",id:"password-error",children:X.password.message}),V[38]=X.password,V[39]=T):T=V[39],V[40]!==S||V[41]!==T?(L=(0,i.jsxs)("div",{className:"space-y-2",children:[O,S,T]}),V[40]=S,V[41]=T,V[42]=L):L=V[42],V[43]!==k||V[44]!==L||V[45]!==N?(A=(0,i.jsxs)(c.Wu,{className:"space-y-4",children:[N,k,L]}),V[43]=k,V[44]=L,V[45]=N,V[46]=A):A=V[46];let er=K?"ログイン中...":"ログイン";return V[47]!==K||V[48]!==er?(D=(0,i.jsx)(d.$,{type:"submit",className:"w-full",disabled:K,children:er}),V[47]=K,V[48]=er,V[49]=D):D=V[49],V[50]===Symbol.for("react.memo_cache_sentinel")?(I=(0,i.jsxs)("div",{className:"text-center text-sm",children:["アカウントをお持ちでないですか？"," ",(0,i.jsx)("button",{type:"button",className:"text-primary hover:underline focus:outline-none focus:ring-2 focus:ring-primary/50 focus:ring-offset-2 rounded","aria-label":"新しいアカウントを作成する",onClick:x,children:"新規登録"})]}),V[50]=I):I=V[50],V[51]!==D?(W=(0,i.jsxs)(c.wL,{className:"flex flex-col space-y-4",children:[D,I]}),V[51]=D,V[52]=W):W=V[52],V[53]!==J||V[54]!==A||V[55]!==W?(P=(0,i.jsxs)(c.Zp,{className:"mx-auto w-full max-w-md",children:[w,(0,i.jsxs)("form",{onSubmit:J,children:[A,W]})]}),V[53]=J,V[54]=A,V[55]=W,V[56]=P):P=V[56],P}function x(){alert("アカウント登録機能は近日公開予定です")}function y(){alert("パスワードリセット機能は近日公開予定です")}},78346:(e,r,t)=>{"use strict";t.d(r,{p:()=>n});var i=t(95155),s=t(19749),a=t(91753);function n(e){let r,t,n,l,o,d=(0,s.c)(10);return d[0]!==e?({className:r,type:n,...t}=e,d[0]=e,d[1]=r,d[2]=t,d[3]=n):(r=d[1],t=d[2],n=d[3]),d[4]!==r?(l=(0,a.cn)("border-input file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground aria-invalid:outline-destructive/60 aria-invalid:ring-destructive/20 dark:aria-invalid:outline-destructive dark:aria-invalid:ring-destructive/50 ring-ring/10 dark:ring-ring/20 dark:outline-ring/40 outline-ring/50 aria-invalid:outline-destructive/60 dark:aria-invalid:outline-destructive dark:aria-invalid:ring-destructive/40 aria-invalid:ring-destructive/20 aria-invalid:border-destructive/60 dark:aria-invalid:border-destructive flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:ring-4 focus-visible:outline-1 disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 aria-invalid:focus-visible:ring-[3px] aria-invalid:focus-visible:outline-none md:text-sm dark:aria-invalid:focus-visible:ring-4",r),d[4]=r,d[5]=l):l=d[5],d[6]!==t||d[7]!==l||d[8]!==n?(o=(0,i.jsx)("input",{type:n,"data-slot":"input",className:l,...t}),d[6]=t,d[7]=l,d[8]=n,d[9]=o):o=d[9],o}},91590:(e,r,t)=>{"use strict";t.d(r,{hO:()=>o,sG:()=>l});var i=t(12115),s=t(47650),a=t(50007),n=t(95155),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let t=(0,a.TL)(`Primitive.${r}`),s=i.forwardRef((e,i)=>{let{asChild:s,...a}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(s?t:r,{...a,ref:i})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{});function o(e,r){e&&s.flushSync(()=>e.dispatchEvent(r))}},91753:(e,r,t)=>{"use strict";t.d(r,{cn:()=>a});var i=t(99065),s=t(66253);function a(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.QP)((0,i.$)(r))}},93456:(e,r,t)=>{"use strict";t.d(r,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>n,aR:()=>l,wL:()=>u});var i=t(95155),s=t(19749),a=t(91753);function n(e){let r,t,n,l,o=(0,s.c)(8);return o[0]!==e?({className:r,...t}=e,o[0]=e,o[1]=r,o[2]=t):(r=o[1],t=o[2]),o[3]!==r?(n=(0,a.cn)("bg-card text-card-foreground rounded-xl border shadow-sm",r),o[3]=r,o[4]=n):n=o[4],o[5]!==t||o[6]!==n?(l=(0,i.jsx)("div",{"data-slot":"card",className:n,...t}),o[5]=t,o[6]=n,o[7]=l):l=o[7],l}function l(e){let r,t,n,l,o=(0,s.c)(8);return o[0]!==e?({className:r,...t}=e,o[0]=e,o[1]=r,o[2]=t):(r=o[1],t=o[2]),o[3]!==r?(n=(0,a.cn)("flex flex-col gap-1.5 p-6",r),o[3]=r,o[4]=n):n=o[4],o[5]!==t||o[6]!==n?(l=(0,i.jsx)("div",{"data-slot":"card-header",className:n,...t}),o[5]=t,o[6]=n,o[7]=l):l=o[7],l}function o(e){let r,t,n,l,o=(0,s.c)(8);return o[0]!==e?({className:r,...t}=e,o[0]=e,o[1]=r,o[2]=t):(r=o[1],t=o[2]),o[3]!==r?(n=(0,a.cn)("leading-none font-semibold tracking-tight",r),o[3]=r,o[4]=n):n=o[4],o[5]!==t||o[6]!==n?(l=(0,i.jsx)("div",{"data-slot":"card-title",className:n,...t}),o[5]=t,o[6]=n,o[7]=l):l=o[7],l}function d(e){let r,t,n,l,o=(0,s.c)(8);return o[0]!==e?({className:r,...t}=e,o[0]=e,o[1]=r,o[2]=t):(r=o[1],t=o[2]),o[3]!==r?(n=(0,a.cn)("text-muted-foreground text-sm",r),o[3]=r,o[4]=n):n=o[4],o[5]!==t||o[6]!==n?(l=(0,i.jsx)("div",{"data-slot":"card-description",className:n,...t}),o[5]=t,o[6]=n,o[7]=l):l=o[7],l}function c(e){let r,t,n,l,o=(0,s.c)(8);return o[0]!==e?({className:r,...t}=e,o[0]=e,o[1]=r,o[2]=t):(r=o[1],t=o[2]),o[3]!==r?(n=(0,a.cn)("p-6 pt-0",r),o[3]=r,o[4]=n):n=o[4],o[5]!==t||o[6]!==n?(l=(0,i.jsx)("div",{"data-slot":"card-content",className:n,...t}),o[5]=t,o[6]=n,o[7]=l):l=o[7],l}function u(e){let r,t,n,l,o=(0,s.c)(8);return o[0]!==e?({className:r,...t}=e,o[0]=e,o[1]=r,o[2]=t):(r=o[1],t=o[2]),o[3]!==r?(n=(0,a.cn)("flex items-center p-6 pt-0",r),o[3]=r,o[4]=n):n=o[4],o[5]!==t||o[6]!==n?(l=(0,i.jsx)("div",{"data-slot":"card-footer",className:n,...t}),o[5]=t,o[6]=n,o[7]=l):l=o[7],l}}},e=>{e.O(0,[6446,8385,2506,5870,8441,8261,7358],()=>e(e.s=65020)),_N_E=e.O()}]);