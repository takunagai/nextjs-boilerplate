(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2678],{7920:(e,r,t)=>{"use strict";t.d(r,{RegisterForm:()=>v});var s=t(95155),i=t(36751),n=t(80095),a=t.n(n),o=t(39200),d=t(12115),l=t(88508),c=t(69172),u=t(1953),m=t(43578),f=t(12072),h=t(78346),p=t(22901);let x=u.Ik({name:u.Yj().min(1,"氏名は必須です"),email:u.Yj().email("有効なメールアドレスを入力してください"),password:u.Yj().min(8,"パスワードは8文字以上で入力してください"),confirmPassword:u.Yj().min(1,"確認用パスワードを入力してください"),termsAccepted:u.zM().refine(e=>!0===e,{message:"利用規約への同意が必要です"})}).refine(e=>e.password===e.confirmPassword,{message:"パスワードが一致しません",path:["confirmPassword"]});function v(){let e=(0,o.useRouter)(),[r,t]=(0,d.useState)(!1),n=(0,l.mN)({resolver:(0,i.u)(x),mode:"onSubmit",defaultValues:{name:"",email:"",password:"",confirmPassword:"",termsAccepted:!1}}),u=async r=>{t(!0);try{let t=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r.name,email:r.email,password:r.password})}),s=await t.json();t.ok&&s.success?(c.oR.success("アカウントが作成されました"),e.push("/login?registered=true")):c.oR.error(s.error?.message||"アカウント登録に失敗しました")}catch(r){console.error("Registration error:",r);let e=r instanceof Error?`登録処理中にエラーが発生しました: ${r.message}`:"登録処理中にエラーが発生しました";c.oR.error(e)}finally{t(!1)}};return(0,s.jsx)(f.lV,{...n,children:(0,s.jsxs)("form",{onSubmit:n.handleSubmit(u),className:"space-y-4",children:[(0,s.jsx)(f.zB,{control:n.control,name:"name",render:e=>{let{field:t}=e;return(0,s.jsxs)(f.eI,{children:[(0,s.jsx)(f.lR,{children:"氏名"}),(0,s.jsx)(f.MJ,{children:(0,s.jsx)(h.p,{placeholder:"山田太郎",disabled:r,...t})}),(0,s.jsx)(f.C5,{})]})}}),(0,s.jsx)(f.zB,{control:n.control,name:"email",render:e=>{let{field:t}=e;return(0,s.jsxs)(f.eI,{children:[(0,s.jsx)(f.lR,{children:"メールアドレス"}),(0,s.jsx)(f.MJ,{children:(0,s.jsx)(h.p,{placeholder:"example@example.com",disabled:r,...t})}),(0,s.jsx)(f.C5,{})]})}}),(0,s.jsx)(f.zB,{control:n.control,name:"password",render:e=>{let{field:t}=e;return(0,s.jsxs)(f.eI,{children:[(0,s.jsx)(f.lR,{children:"パスワード"}),(0,s.jsx)(f.MJ,{children:(0,s.jsx)(h.p,{type:"password",placeholder:"********",disabled:r,...t})}),(0,s.jsx)(f.C5,{})]})}}),(0,s.jsx)(f.zB,{control:n.control,name:"confirmPassword",render:e=>{let{field:t}=e;return(0,s.jsxs)(f.eI,{children:[(0,s.jsx)(f.lR,{children:"パスワード（確認用）"}),(0,s.jsx)(f.MJ,{children:(0,s.jsx)(h.p,{type:"password",placeholder:"********",disabled:r,...t})}),(0,s.jsx)(f.C5,{})]})}}),(0,s.jsx)(f.zB,{control:n.control,name:"termsAccepted",render:e=>{let{field:t}=e;return(0,s.jsxs)(f.eI,{className:"flex flex-row items-start space-x-3 space-y-0",children:[(0,s.jsx)(f.MJ,{children:(0,s.jsx)(p.S,{checked:t.value,onCheckedChange:t.onChange,disabled:r})}),(0,s.jsxs)("div",{className:"space-y-1 leading-none",children:[(0,s.jsxs)(f.lR,{children:[(0,s.jsx)("a",{href:"/terms",className:"text-primary hover:underline",target:"_blank",rel:"noreferrer",children:"利用規約"})," ","に同意します"]}),(0,s.jsx)(f.C5,{})]})]})}}),(0,s.jsx)(m.$,{type:"submit",disabled:r,className:"w-full",children:r?"処理中...":"登録"}),(0,s.jsxs)("div",{className:"text-center text-sm",children:["すでにアカウントをお持ちですか？"," ",(0,s.jsx)(a(),{href:"/login",className:"font-medium text-primary hover:underline",children:"ログイン"})]})]})})}},12072:(e,r,t)=>{"use strict";t.d(r,{C5:()=>g,MJ:()=>v,Rr:()=>b,eI:()=>p,lR:()=>x,lV:()=>c,zB:()=>m});var s=t(95155),i=t(19749),n=t(50007),a=t(12115),o=t(88508),d=t(36912),l=t(91753);let c=o.Op,u=a.createContext({}),m=e=>{let r,t,n,a,d=(0,i.c)(9);return d[0]!==e?({...r}=e,d[0]=e,d[1]=r):r=d[1],d[2]!==r.name?(t={name:r.name},d[2]=r.name,d[3]=t):t=d[3],d[4]!==r?(n=(0,s.jsx)(o.xI,{...r}),d[4]=r,d[5]=n):n=d[5],d[6]!==t||d[7]!==n?(a=(0,s.jsx)(u.Provider,{value:t,children:n}),d[6]=t,d[7]=n,d[8]=a):a=d[8],a},f=()=>{let e,r,t=(0,i.c)(11),s=a.useContext(u),n=a.useContext(h);if(!s)throw Error("useFormField should be used within <FormField>");let d=(0,o.xW)();if(!d)throw Error("useFormField should be used within <FormField>");let{getFieldState:l,formState:c}=d;t[0]!==s.name||t[1]!==c||t[2]!==l?(e=l(s.name,c),t[0]=s.name,t[1]=c,t[2]=l,t[3]=e):e=t[3];let m=e,{id:f}=n,p=`${f}-form-item`,x=`${f}-form-item-description`,v=`${f}-form-item-message`;return t[4]!==s.name||t[5]!==m||t[6]!==f||t[7]!==p||t[8]!==x||t[9]!==v?(r={id:f,name:s.name,formItemId:p,formDescriptionId:x,formMessageId:v,...m},t[4]=s.name,t[5]=m,t[6]=f,t[7]=p,t[8]=x,t[9]=v,t[10]=r):r=t[10],r},h=a.createContext({}),p=a.forwardRef((e,r)=>{let t,n,o,d,c,u,m=(0,i.c)(14);m[0]!==e?({className:t,...n}=e,m[0]=e,m[1]=t,m[2]=n):(t=m[1],n=m[2]);let f=a.useId();return m[3]!==f?(o={id:f},m[3]=f,m[4]=o):o=m[4],m[5]!==t?(d=(0,l.cn)("space-y-2",t),m[5]=t,m[6]=d):d=m[6],m[7]!==n||m[8]!==r||m[9]!==d?(c=(0,s.jsx)("div",{ref:r,className:d,...n}),m[7]=n,m[8]=r,m[9]=d,m[10]=c):c=m[10],m[11]!==o||m[12]!==c?(u=(0,s.jsx)(h.Provider,{value:o,children:c}),m[11]=o,m[12]=c,m[13]=u):u=m[13],u});p.displayName="FormItem";let x=a.forwardRef((e,r)=>{let t,n,a,o,c=(0,i.c)(11);c[0]!==e?({className:t,...n}=e,c[0]=e,c[1]=t,c[2]=n):(t=c[1],n=c[2]);let{error:u,formItemId:m}=f(),h=u&&"text-destructive";return c[3]!==t||c[4]!==h?(a=(0,l.cn)(h,t),c[3]=t,c[4]=h,c[5]=a):a=c[5],c[6]!==m||c[7]!==n||c[8]!==r||c[9]!==a?(o=(0,s.jsx)(d.Label,{ref:r,className:a,htmlFor:m,...n}),c[6]=m,c[7]=n,c[8]=r,c[9]=a,c[10]=o):o=c[10],o});x.displayName="FormLabel";let v=a.forwardRef((e,r)=>{let t,a,o=(0,i.c)(8);o[0]!==e?({...t}=e,o[0]=e,o[1]=t):t=o[1];let{error:d,formItemId:l,formDescriptionId:c,formMessageId:u}=f(),m=d?`${c} ${u}`:`${c}`,h=!!d;return o[2]!==l||o[3]!==t||o[4]!==r||o[5]!==m||o[6]!==h?(a=(0,s.jsx)(n.DX,{ref:r,id:l,"aria-describedby":m,"aria-invalid":h,...t}),o[2]=l,o[3]=t,o[4]=r,o[5]=m,o[6]=h,o[7]=a):a=o[7],a});v.displayName="FormControl";let b=a.forwardRef((e,r)=>{let t,n,a,o,d=(0,i.c)(10);d[0]!==e?({className:t,...n}=e,d[0]=e,d[1]=t,d[2]=n):(t=d[1],n=d[2]);let{formDescriptionId:c}=f();return d[3]!==t?(a=(0,l.cn)("text-sm text-muted-foreground",t),d[3]=t,d[4]=a):a=d[4],d[5]!==c||d[6]!==n||d[7]!==r||d[8]!==a?(o=(0,s.jsx)("p",{ref:r,id:c,className:a,...n}),d[5]=c,d[6]=n,d[7]=r,d[8]=a,d[9]=o):o=d[9],o});b.displayName="FormDescription";let g=a.forwardRef((e,r)=>{let t,n,a,o,d,c=(0,i.c)(12);c[0]!==e?({className:n,children:t,...a}=e,c[0]=e,c[1]=t,c[2]=n,c[3]=a):(t=c[1],n=c[2],a=c[3]);let{error:u,formMessageId:m}=f(),h=u?String(u?.message):t;return h?(c[4]!==n?(o=(0,l.cn)("text-sm font-medium text-destructive",n),c[4]=n,c[5]=o):o=c[5],c[6]!==h||c[7]!==m||c[8]!==a||c[9]!==r||c[10]!==o?(d=(0,s.jsx)("p",{ref:r,id:m,className:o,...a,children:h}),c[6]=h,c[7]=m,c[8]=a,c[9]=r,c[10]=o,c[11]=d):d=c[11],d):null});g.displayName="FormMessage"},13182:(e,r,t)=>{"use strict";t.d(r,{C1:()=>k,bL:()=>y});var s=t(12115),i=t(2162),n=t(13592),a=t(92840),o=t(98266),d=t(57936),l=t(48220),c=t(97126),u=t(91590),m=t(95155),f="Checkbox",[h,p]=(0,n.A)(f),[x,v]=h(f);function b(e){let{__scopeCheckbox:r,checked:t,children:i,defaultChecked:n,disabled:a,form:d,name:l,onCheckedChange:c,required:u,value:h="on",internal_do_not_use_render:p}=e,[v,b]=(0,o.i)({prop:t,defaultProp:n??!1,onChange:c,caller:f}),[g,w]=s.useState(null),[y,j]=s.useState(null),k=s.useRef(!1),N=!g||!!d||!!g.closest("form"),R={checked:v,disabled:a,setChecked:b,control:g,setControl:w,name:l,form:d,value:h,hasConsumerStoppedPropagationRef:k,required:u,defaultChecked:!C(n)&&n,isFormControl:N,bubbleInput:y,setBubbleInput:j};return(0,m.jsx)(x,{scope:r,...R,children:"function"==typeof p?p(R):i})}var g="CheckboxTrigger",w=s.forwardRef((e,r)=>{let{__scopeCheckbox:t,onKeyDown:n,onClick:o,...d}=e,{control:l,value:c,disabled:f,checked:h,required:p,setControl:x,setChecked:b,hasConsumerStoppedPropagationRef:w,isFormControl:y,bubbleInput:j}=v(g,t),k=(0,i.s)(r,x),N=s.useRef(h);return s.useEffect(()=>{let e=l?.form;if(e){let r=()=>b(N.current);return e.addEventListener("reset",r),()=>e.removeEventListener("reset",r)}},[l,b]),(0,m.jsx)(u.sG.button,{type:"button",role:"checkbox","aria-checked":C(h)?"mixed":h,"aria-required":p,"data-state":P(h),"data-disabled":f?"":void 0,disabled:f,value:c,...d,ref:k,onKeyDown:(0,a.mK)(n,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,a.mK)(o,e=>{b(e=>!!C(e)||!e),j&&y&&(w.current=e.isPropagationStopped(),w.current||e.stopPropagation())})})});w.displayName=g;var y=s.forwardRef((e,r)=>{let{__scopeCheckbox:t,name:s,checked:i,defaultChecked:n,required:a,disabled:o,value:d,onCheckedChange:l,form:c,...u}=e;return(0,m.jsx)(b,{__scopeCheckbox:t,checked:i,defaultChecked:n,disabled:o,required:a,onCheckedChange:l,name:s,form:c,value:d,internal_do_not_use_render:e=>{let{isFormControl:s}=e;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(w,{...u,ref:r,__scopeCheckbox:t}),s&&(0,m.jsx)(R,{__scopeCheckbox:t})]})}})});y.displayName=f;var j="CheckboxIndicator",k=s.forwardRef((e,r)=>{let{__scopeCheckbox:t,forceMount:s,...i}=e,n=v(j,t);return(0,m.jsx)(c.C,{present:s||C(n.checked)||!0===n.checked,children:(0,m.jsx)(u.sG.span,{"data-state":P(n.checked),"data-disabled":n.disabled?"":void 0,...i,ref:r,style:{pointerEvents:"none",...e.style}})})});k.displayName=j;var N="CheckboxBubbleInput",R=s.forwardRef((e,r)=>{let{__scopeCheckbox:t,...n}=e,{control:a,hasConsumerStoppedPropagationRef:o,checked:c,defaultChecked:f,required:h,disabled:p,name:x,value:b,form:g,bubbleInput:w,setBubbleInput:y}=v(N,t),j=(0,i.s)(r,y),k=(0,d.Z)(c),R=(0,l.X)(a);s.useEffect(()=>{if(!w)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,r=!o.current;if(k!==c&&e){let t=new Event("click",{bubbles:r});w.indeterminate=C(c),e.call(w,!C(c)&&c),w.dispatchEvent(t)}},[w,k,c,o]);let P=s.useRef(!C(c)&&c);return(0,m.jsx)(u.sG.input,{type:"checkbox","aria-hidden":!0,defaultChecked:f??P.current,required:h,disabled:p,name:x,value:b,form:g,...n,tabIndex:-1,ref:j,style:{...n.style,...R,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function C(e){return"indeterminate"===e}function P(e){return C(e)?"indeterminate":e?"checked":"unchecked"}R.displayName=N},22901:(e,r,t)=>{"use strict";t.d(r,{S:()=>d});var s=t(95155),i=t(19749),n=t(13182),a=t(60160),o=t(91753);function d(e){let r,t,d,l,c,u=(0,i.c)(9);return u[0]!==e?({className:r,...t}=e,u[0]=e,u[1]=r,u[2]=t):(r=u[1],t=u[2]),u[3]!==r?(d=(0,o.cn)("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary ring-ring/10 dark:ring-ring/20 dark:outline-ring/40 outline-ring/50 size-4 shrink-0 rounded-[4px] border shadow-xs transition-[color,box-shadow] focus-visible:ring-4 focus-visible:outline-1 disabled:cursor-not-allowed disabled:opacity-50 aria-invalid:focus-visible:ring-0",r),u[3]=r,u[4]=d):d=u[4],u[5]===Symbol.for("react.memo_cache_sentinel")?(l=(0,s.jsx)(n.C1,{"data-slot":"checkbox-indicator",className:(0,o.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(a.CMH,{className:"size-4"})}),u[5]=l):l=u[5],u[6]!==t||u[7]!==d?(c=(0,s.jsx)(n.bL,{"data-slot":"checkbox",className:d,...t,children:l}),u[6]=t,u[7]=d,u[8]=c):c=u[8],c}},36912:(e,r,t)=>{"use strict";t.d(r,{Label:()=>o});var s=t(95155),i=t(19749),n=t(71573),a=t(91753);function o(e){let r,t,o,d,l=(0,i.c)(8);return l[0]!==e?({className:r,...t}=e,l[0]=e,l[1]=r,l[2]=t):(r=l[1],t=l[2]),l[3]!==r?(o=(0,a.cn)("text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),l[3]=r,l[4]=o):o=l[4],l[5]!==t||l[6]!==o?(d=(0,s.jsx)(n.b,{"data-slot":"label",className:o,...t}),l[5]=t,l[6]=o,l[7]=d):d=l[7],d}},39200:(e,r,t)=>{"use strict";var s=t(53456);t.o(s,"usePathname")&&t.d(r,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})},43578:(e,r,t)=>{"use strict";t.d(r,{$:()=>l});var s=t(95155),i=t(19749),n=t(50007),a=t(98417),o=t(91753);let d=(0,a.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",success:"bg-green-600 text-white shadow-xs hover:bg-green-700 focus-visible:ring-green-200 dark:bg-green-600/80 dark:hover:bg-green-600",warning:"bg-yellow-500 text-white shadow-xs hover:bg-yellow-600 focus-visible:ring-yellow-200 dark:bg-yellow-600/80 dark:hover:bg-yellow-600",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline",hero:"bg-white/10 text-white border border-white/20 hover:bg-white/20"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let r,t,a,l,c,u,m,f=(0,i.c)(14);f[0]!==e?({className:r,variant:c,size:a,asChild:l,...t}=e,f[0]=e,f[1]=r,f[2]=t,f[3]=a,f[4]=l,f[5]=c):(r=f[1],t=f[2],a=f[3],l=f[4],c=f[5]);let h=void 0!==l&&l?n.DX:"button";return f[6]!==r||f[7]!==a||f[8]!==c?(u=(0,o.cn)("no-underline",d({variant:c,size:a}),r),f[6]=r,f[7]=a,f[8]=c,f[9]=u):u=f[9],f[10]!==h||f[11]!==t||f[12]!==u?(m=(0,s.jsx)(h,{"data-slot":"button",className:u,...t}),f[10]=h,f[11]=t,f[12]=u,f[13]=m):m=f[13],m}},48220:(e,r,t)=>{"use strict";t.d(r,{X:()=>n});var s=t(12115),i=t(48749);function n(e){let[r,t]=s.useState(void 0);return(0,i.N)(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});let r=new ResizeObserver(r=>{let s,i;if(!Array.isArray(r)||!r.length)return;let n=r[0];if("borderBoxSize"in n){let e=n.borderBoxSize,r=Array.isArray(e)?e[0]:e;s=r.inlineSize,i=r.blockSize}else s=e.offsetWidth,i=e.offsetHeight;t({width:s,height:i})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}t(void 0)},[e]),r}},57936:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var s=t(12115);function i(e){let r=s.useRef({value:e,previous:e});return s.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}},63196:(e,r,t)=>{Promise.resolve().then(t.bind(t,7920))},71573:(e,r,t)=>{"use strict";t.d(r,{b:()=>o});var s=t(12115),i=t(91590),n=t(95155),a=s.forwardRef((e,r)=>(0,n.jsx)(i.sG.label,{...e,ref:r,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));a.displayName="Label";var o=a},78346:(e,r,t)=>{"use strict";t.d(r,{p:()=>a});var s=t(95155),i=t(19749),n=t(91753);function a(e){let r,t,a,o,d,l=(0,i.c)(10);return l[0]!==e?({className:r,type:a,...t}=e,l[0]=e,l[1]=r,l[2]=t,l[3]=a):(r=l[1],t=l[2],a=l[3]),l[4]!==r?(o=(0,n.cn)("border-input file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground aria-invalid:outline-destructive/60 aria-invalid:ring-destructive/20 dark:aria-invalid:outline-destructive dark:aria-invalid:ring-destructive/50 ring-ring/10 dark:ring-ring/20 dark:outline-ring/40 outline-ring/50 aria-invalid:outline-destructive/60 dark:aria-invalid:outline-destructive dark:aria-invalid:ring-destructive/40 aria-invalid:ring-destructive/20 aria-invalid:border-destructive/60 dark:aria-invalid:border-destructive flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:ring-4 focus-visible:outline-1 disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 aria-invalid:focus-visible:ring-[3px] aria-invalid:focus-visible:outline-none md:text-sm dark:aria-invalid:focus-visible:ring-4",r),l[4]=r,l[5]=o):o=l[5],l[6]!==t||l[7]!==o||l[8]!==a?(d=(0,s.jsx)("input",{type:a,"data-slot":"input",className:o,...t}),l[6]=t,l[7]=o,l[8]=a,l[9]=d):d=l[9],d}},91753:(e,r,t)=>{"use strict";t.d(r,{cn:()=>n});var s=t(99065),i=t(66253);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,i.QP)((0,s.$)(r))}}},e=>{e.O(0,[6446,8385,95,2234,2506,9172,8441,8261,7358],()=>e(e.s=63196)),_N_E=e.O()}]);