"use strict";exports.id=3754,exports.ids=[3754],exports.modules={12345:(a,b,c)=>{c.d(b,{X:()=>g});var d=c(75879);c(68633);var e=c(16780),f=c(82161);async function g(a,b,c){try{let d=await a(b,c);return d.success&&c&&(c.revalidatePath&&(0,e.revalidatePath)(c.revalidatePath),c.revalidateTag&&(0,e.revalidateTag)(c.revalidateTag),c.redirect&&(0,f.redirect)(c.redirect)),d}catch(a){return console.error("Server Action execution failed:",a),{success:!1,error:{code:"SYSTEM_ERROR",message:"システムエラーが発生しました。しばらくしてから再度お試しください。"}}}}(0,c(51669).D)([g]),(0,d.A)(g,"7041d9bf6bcd43b9ba92aee93892730a17425418c3",null)},17270:(a,b,c)=>{c.d(b,{JV:()=>i,Wg:()=>h,r6:()=>f,yj:()=>g});var d=c(10641);function e(a,b){let c=b?.error?b.status||400:b?.status||200,e={success:!b?.error,data:b?.error?void 0:a,error:b?.error};return d.NextResponse.json(e,{status:c,headers:b?.headers})}function f(a,b){return e(a,{status:b?.status||200,headers:b?.headers})}function g(a,b){return e(void 0,{error:a,status:b?.status||400,headers:b?.headers})}function h(a){let{success:b,message:c,data:e,status:f,headers:g}=a;return d.NextResponse.json({success:b,message:c,data:e},{status:f||(b?200:400),headers:g})}let i={validation:(a="入力データが無効です",b)=>({code:"VALIDATION_ERROR",message:a,details:b}),unauthorized:(a="認証が必要です")=>({code:"UNAUTHORIZED",message:a}),forbidden:(a="この操作を行う権限がありません")=>({code:"FORBIDDEN",message:a}),notFound:(a="リソースが見つかりません")=>({code:"NOT_FOUND",message:a}),internal:(a="内部サーバーエラーが発生しました")=>({code:"INTERNAL_SERVER_ERROR",message:a}),custom:(a,b,c)=>({code:a,message:b,details:c})}},28058:(a,b,c)=>{c.d(b,{k2:()=>e});var d=c(37947);function e(a,b){return async(c,e)=>{try{let c=Object.fromEntries(e),d=a.parse(c),f=await b(d);return{success:!0,data:f,message:"処理が完了しました"}}catch(a){if(a instanceof d.G)return{success:!1,error:{code:"VALIDATION_ERROR",message:"入力データが正しくありません"},fieldErrors:a.flatten().fieldErrors};return console.error("Safe action execution failed:",a),{success:!1,error:{code:"SYSTEM_ERROR",message:"システムエラーが発生しました。しばらくしてから再度お試しください。"}}}}}},33754:(a,b,c)=>{c.d(b,{lZ:()=>e,JV:()=>j.JV,cf:()=>h,yj:()=>j.yj,yT:()=>i,r6:()=>j.r6,F6:()=>g,S:()=>k}),c(28058),c(12345);var d=c(37947);class e extends Error{constructor(a,b,c){super(a),this.name="ActionError",this.code=b,this.details=c}}function f(a){return a.issues.reduce((a,b)=>(a[b.path.join(".")]=b.message,a),{})}async function g(a,b,c){try{return a.parse(b)}catch(a){if(a instanceof d.G){let b=f(a);throw new e(c?.errorMessage||"入力データが無効です","VALIDATION_ERROR",{fieldErrors:b})}throw new e("バリデーションエラー","UNKNOWN_VALIDATION_ERROR")}}function h(a){return a}async function i(a){try{let b=await a();return{success:!0,data:b}}catch(a){if(console.error("Action error:",a),a instanceof e)return{success:!1,error:{code:a.code,message:a.message,details:a.details}};if(a instanceof d.G)return{success:!1,error:{code:"VALIDATION_ERROR",message:"入力データが無効です",details:{fieldErrors:f(a)}}};return{success:!1,error:{code:"UNKNOWN_ERROR",message:a instanceof Error?a.message:"不明なエラーが発生しました"}}}}var j=c(17270);async function k(a,b){try{let c=a.safeParse(b);if(!c.success)throw c.error;return c.data}catch(a){throw console.error("[API Validation Error]",a),a}}c(96901)},96901:(a,b,c)=>{c.d(b,{j:()=>j,L:()=>k});var d=c(75879);c(68633);var e=c(60140);let f=e.Ik({name:e.Yj().min(1,{message:"お名前を入力してください"}),email:e.Yj().email({message:"有効なメールアドレスを入力してください"}),phoneContact:e.k5(["可","不可"],{message:"電話連絡の可否を選択してください"}),phone:e.Yj().optional(),message:e.Yj().min(10,{message:"お問い合わせ内容は10文字以上で入力してください"})}).refine(a=>"可"===a.phoneContact?!!a.phone&&""!==a.phone&&/^\d{2,4}-\d{2,4}-\d{3,4}$/.test(a.phone):!a.phone||""===a.phone||/^\d{2,4}-\d{2,4}-\d{3,4}$/.test(a.phone),{message:"電話番号は「00-0000-0000」の形式で入力してください",path:["phone"]});var g=c(28058),h=c(51669);async function i(a){try{return console.log("Contact form submitted:",a),await new Promise(a=>setTimeout(a,1e3)),{message:"お問い合わせを受け付けました。ありがとうございます。",submissionId:`contact_${function(){if("undefined"!=typeof crypto&&crypto.randomUUID)try{return crypto.randomUUID()}catch(a){console.warn("crypto.randomUUID() failed, using fallback:",a)}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{let b=16*Math.random()|0;return("x"===a?b:3&b|8).toString(16)})}()}`,data:a}}catch(a){throw console.error("Contact submission failed:",a),Error("お問い合わせの送信に失敗しました。しばらくしてから再度お試しください。")}}let j=(0,g.k2)(f,i),k=(0,g.k2)(f,async a=>({message:"テスト送信が完了しました",testMode:!0,data:a}));(0,h.D)([j,k]),(0,d.A)(j,"7f865b2a67cde91f7abac3a4bcdf080e88500c4e7a",null),(0,d.A)(k,"7f3cd69e13799fcc46ab4824725bce37f79fe50728",null)}};